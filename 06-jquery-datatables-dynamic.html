<html>
    <head>
        <title> Dynamic Table </title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
        <script src=js/jquery.js></script>
        <script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

        <script>
            $(document).ready( function () {

                const dTable = $("#theBeatles").DataTable({                 // hebben we hier een variable of functie gemaakt?
                    ajax: "https://api.dev-master.ninja/js/beatles",
                    columns: [
                        {data: "id"},
                        {data: "firstname"},
                        {data: "lastname"},
                        {data: "dateOfBirth"},
                        {data: "email"}
                    ]
                }) 

                // Exercise: Ik heb een poging gedaan met line 25-54, maari k heb geen idee hoe ik dat moet doen

                $.ajax({
                        url: "https://api.dev-master.ninja/js/beatles",
                        method: "POST",
                        data: data,
                        success: function(data) {
                            $("#firstname").val(firstname)
                        }
                })
                console.log(firstname)

                const data_to_send= 
                {
                columns: [
                        {data_to_send: "firstname"},
                        {data_to_send: "lastname"},
                        {data_to_send: "email"},
                    ]
                }

                $.ajax({
                        url: "https://api.dev-master.ninja/js/person/save",
                        method: "POST",
                        data: data_to_send,
                        success: function(data_to_send) {
                            $("#dateOfBirth").val(dateOfBirth)
                        }
                })

                console.log(data_to_send)
                console.log(data)

                // Herlaadt tabel iedere 10 sec
                setInterval(function () {
                    dTable.ajax.reload()
                }, 10000)
            }) // Einde ready functie
        </script>
    </head>
    <body>
        <table id="theBeatles"
               class="display nowrap dataTable dtr-inline collapsed">
            <thead>                         <!-- 5 headings -->
                <th> ID </th>
                <th> Firstname</th>
                <th> lastname </th>
                <th> Date of Birth </th>
                <th> Email </th>
            </thead>
            <tbody> </tbody>    <!-- Niks staat blijkbaar in de body-->
        </table>
    </body>
</html>